# Система управления контактами

## Описание

Система управления контактами обеспечивает централизованное хранение и обновление контактной информации в реальном времени по всему приложению.

## Особенности

- ✅ **Реактивные обновления** - изменения отображаются мгновенно во всех компонентах
- ✅ **Централизованное хранилище** - единый источник данных для всего приложения  
- ✅ **Кэширование** - данные загружаются один раз и переиспользуются
- ✅ **Простое API** - удобные хуки для работы с контактами
- ✅ **Админка** - интерфейс для редактирования контактов
- ✅ **Статус обновлений** - индикатор актуальности данных

## Структура

```
entities/contacts/
├── api/
│   └── contactsApi.js          # API для работы с контактами
├── hooks/
│   └── useContacts.js          # Хуки для использования в компонентах
├── model/
│   └── contactsStore.js        # MobX хранилище
├── ui/
│   ├── ContactsContent.jsx     # Компонент отображения контактов
│   └── ContactsStatus.jsx      # Индикатор статуса
└── index.js                    # Экспорты
```

## Использование

### В компонентах

```jsx
import { useContacts } from '../entities/contacts';

const MyComponent = () => {
    const { contacts, updateContact } = useContacts();
    
    return (
        <div>
            <p>Телефон: {contacts.phoneFormatted}</p>
            <button onClick={() => updateContact('phone', '+79999999999')}>
                Обновить телефон
            </button>
        </div>
    );
};
```

### Готовый компонент контактов

```jsx
import { ContactsContent } from '../entities/contacts';

const Modal = () => (
    <Modal>
        <ContactsContent />
    </Modal>
);
```

## API

### useContacts()

Возвращает объект с:
- `contacts` - объект с контактными данными
- `loading` - флаг загрузки
- `error` - ошибка загрузки
- `lastUpdated` - время последнего обновления
- `updateContact(field, value)` - обновление поля
- `updateSocialLink(platform, url)` - обновление соц. ссылки
- `refreshContacts()` - принудительное обновление

### Структура данных contacts

```javascript
{
    address: 'г. Благовещенск, ул. Мухина 114, ТЦ Острова, 3 этаж',
    phone: '+79143983470',
    phoneFormatted: '8 (914) 398-34-70',
    email: 'info@example.com',
    workingHours: 'Ежедневно с 10:00 до 21:00',
    socialLinks: {
        telegram: 'https://t.me/...',
        instagram: 'https://www.instagram.com/...',
        whatsapp: 'https://api.whatsapp.com/send/...'
    }
}
```

## Преимущества решения

1. **Производительность** - данные загружаются один раз при первом использовании
2. **Реактивность** - все компоненты автоматически обновляются при изменении данных
3. **Простота** - не нужно передавать пропсы или управлять состоянием вручную
4. **Масштабируемость** - легко добавлять новые поля и компоненты
5. **Отладка** - централизованное логирование и статус обновлений

## Расширение

Для добавления новых полей контактов:

1. Обновите структуру в `contactsStore.js`
2. Добавьте поля в `ContactsContent.jsx`
3. Обновите форму в `EditContacts.jsx`

Система автоматически подхватит изменения во всех компонентах. 