# Riazanov Mebel Shop

## Настройка и запуск проекта на домене domu-mebel.ru

### Требования
- Windows 10 или более новая версия
- Node.js и npm
- Права администратора для установки сервисов

### Шаги для настройки

1. **Клонируйте репозиторий**:
   ```
   git clone https://github.com/your-repository/riazanov-mebel-shop.git
   cd riazanov-mebel-shop
   ```

2. **Установите зависимости для сервера**:
   ```
   cd server
   npm install
   cd ..
   ```

3. **Установите зависимости для клиента**:
   ```
   cd client
   npm install
   cd ..
   ```

4. **Соберите клиентскую часть**:
   ```
   build-client.bat
   ```

5. **Настройте Nginx и SSL-сертификат**:
   Запустите PowerShell от имени администратора и выполните:
   ```
   .\setup.ps1
   ```
   Этот скрипт установит:
   - Chocolatey (менеджер пакетов для Windows)
   - Nginx
   - Certbot (для получения сертификата Let's Encrypt)
   
   Также скрипт настроит Nginx и получит SSL-сертификат для вашего домена.

6. **Запустите сервер и клиент**:
   ```
   start-server.bat
   start-client.bat
   ```

### Дополнительная информация

- **Порты**:
  - Клиент работает на порту 3000
  - Сервер работает на порту 5000
  - Nginx принимает запросы на портах 80 и 443 (после настройки SSL)

- **Автоматическое обновление сертификата**:
  Скрипт setup.ps1 создает задачу в планировщике заданий Windows для автоматического обновления SSL-сертификата каждый день в 3 часа утра.

- **Конфигурация Nginx**:
  - Основной конфигурационный файл: `C:\tools\nginx\conf\nginx.conf`
  - Конфигурация сайта: `C:\tools\nginx\conf\sites-enabled\domu-mebel.ru.conf`

- **Расположение сертификатов**:
  SSL-сертификаты хранятся в `C:\Certbot\live\domu-mebel.ru\`